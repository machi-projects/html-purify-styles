"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(function(a){var b=a.prototype,c=b.parseFromString;try{if(new a().parseFromString("","text/html"))return}catch(d){}b.parseFromString=function(d,e){if(/^\s*text\/html\s*(?:;|$)/i.test(e)){var f=document.implementation.createHTMLDocument("");return-1<d.toLowerCase().indexOf("<!doctype")?f.documentElement.innerHTML=d:f.body.innerHTML=d,f}return c.apply(this,arguments)}})(DOMParser);var PurifyHtmlStyles=function(){function a(b){_classCallCheck(this,a),this.xml=b}return a.prototype.parser=function(c){var d=null;if(window.DOMParser){var b=new DOMParser;d=b.parseFromString(c,"text/html")}else window.ActiveXObject&&(d=new ActiveXObject("Microsoft.XMLDOM"),d.async=!1,d.loadXML(c));return d},a.prototype.createKey=function(){var c=Math.random().toString(36).substr(2,6)+Math.random().toString(36).substr(2,4);return"css__"+c+"__class"},a.prototype.run=function(){var c=this.parser("<div id='purifyStyleMyStyler'></div>"),d=c.getElementById("purifyStyleMyStyler");d.innerHTML=this.xml;var e=c.createElement("style");e.type="text/css",e.setAttribute("data-css-purify-styler",Date.now()),e.appendChild(document.createTextNode(""));for(var f="",g=c.querySelectorAll("[style]"),h=0;h<g.length;h++){var j=g[h],k=j.getAttribute("style");if(k){var l=this.createKey();f+="."+l+"{"+k+"}\n";var m=j.className||"";j.className+=-1==m.indexOf(l)?l:""}j.removeAttribute("style")}return e.innerHTML=f,d.appendChild(e),d.innerHTML},a}();
